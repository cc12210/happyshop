this.btn=document.querySelector(".loginBtnA"),form=document.querySelector(".login_inp"),username=document.querySelector(".username"),password=document.querySelector(".password"),password2=document.querySelector(".password2"),errorInfo=document.querySelector(".errorInfo"),flag=!1;var _this=this;this.username.onchange=function(){if(""!=_this.username.value){var e={method:"post",data:{username:this.value,password:""},success:function(e){200==e.msg?(_this.errorInfo.innerHTML="账号已经存在",_this.errorInfo.className="errorInfo loginFail",_this.flag=!1):1e3==e.msg&&(_this.errorInfo.innerHTML="账号可以使用",_this.errorInfo.className="errorInfo loginSucc",_this.flag=!0)}};sendAjax("php/res.php",e)}},this.btn.onclick=function(){if(""!=_this.username.value&&""!=_this.password.value&&1==_this.flag)if(_this.password.value==_this.password2.value){var e={method:"post",data:{username:_this.username.value,password:_this.password.value},success:function(e){201==e.msg&&(localStorage.setItem("name",_this.username.value),location.href="shouye.html")}};sendAjax("php/res.php",e)}else _this.errorInfo.innerHTML="两次密码不一致",_this.errorInfo.className="errorInfo loginFail";else _this.errorInfo.innerHTML="您的输入有误",_this.errorInfo.className="errorInfo loginFail"},document.onkeydown=function(e){13==((e=e||window.event).keyCode||e.which)&&_this.btn.click()};