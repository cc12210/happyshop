var smallBox=$(".small_img"),bigBox=$(".big_img"),bigImg=$(".big_img img"),mainBox=$(".shopinfo_l_img");mainBox.on("mouseenter",function(){smallBox.show(),bigBox.show()}),mainBox.mousemove(function(o){var l=o.pageX,s=o.pageY,i=l-mainBox.offset().left,m=s-mainBox.offset().top,x=smallBox.width()/2,a=smallBox.height()/2;smallBox.css({left:i-x+"px",top:m-a+"px"});var t=smallBox.position().left,B=smallBox.position().top,e=mainBox.width()-smallBox.width(),n=mainBox.width()-smallBox.width();t<=0?smallBox.css("left","0px"):e<=t&&smallBox.css("left",e+"px"),B<=0?smallBox.css("top","0px"):n<=B&&smallBox.css("top",n+"px");var p=2*(t=smallBox.position().left),g=2*(B=smallBox.position().top);bigImg.css({left:-p+"px",top:-g+"px"})}),mainBox.on("mouseleave",function(){smallBox.hide(),bigBox.hide()});